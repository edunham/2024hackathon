<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CPR Training Game</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Overlay elements -->
    <div id="welcome-overlay" class="overlay">
        <div class="overlay-content">
            <h2>Welcome to CPR Training</h2>
            <p>Practice chest compressions at the correct rate of 100-120 compressions per minute.</p>
            <p>Use either the button or place your phone screen-down and press directly onto it.</p>
            <div class="difficulty-setting">
                <label for="difficulty">Difficulty:</label>
                <select id="difficulty">
                    <option value="0">Easy (with metronome)</option>
                    <option value="1">Hard (no assistance)</option>
                </select>
            </div>
            <button class="overlay-button" onclick="game.startGame()">Start Game</button>
        </div>
    </div>

    <div id="level-complete-overlay" class="overlay" style="display: none;">
        <div class="overlay-content">
            <h2>Level Complete!</h2>
            <div class="stats">
                <p>Level: <span id="completed-level">1</span></p>
                <p>Average Rate: <span id="avg-rate">0</span> compressions/minute</p>
                <p>Good Compressions: <span id="good-compressions">0</span></p>
            </div>
            <div class="graph-container">
                <canvas id="acceleration-graph" width="600" height="300"></canvas>
                <p class="graph-help">Drag the red line to adjust sensitivity for the next level</p>
            </div>
            <div class="share-buttons">
                <button class="share-button" onclick="game.shareToTwitter()">Share to Twitter</button>
                <button class="share-button" onclick="game.shareToLinkedIn()">Share to LinkedIn</button>
                <button class="share-button" onclick="game.shareToFacebook()">Share to Facebook</button>
            </div>
            <button class="overlay-button" onclick="game.nextLevel()">Next Level</button>
        </div>
    </div>

    <div id="try-again-overlay" class="overlay" style="display: none;">
        <div class="overlay-content">
            <h2>Time's Up!</h2>
            <p>No compressions detected for 30 seconds.</p>
            <button class="overlay-button" onclick="game.restartLevel()">Try Again?</button>
        </div>
    </div>

    <!-- Game container -->
    <div class="game-container">
        <div class="rate-section">
            <div class="rate-display">
                Current Rate: <span id="rate-number">0</span> compressions/minute
            </div>
            <div class="rate-meter">
                <div class="rate-target-zone"></div>
                <div class="rate-indicator"></div>
            </div>
        </div>
        
        <div class="status-panel">
            <h2>Level <span id="current-level">1</span></h2>
            <p>Compressions in this round: <span id="compression-count">0</span>/<span id="compressions-needed">30</span></p>
            <div class="progress-bar">
                <div class="progress-fill"></div>
            </div>
            <button class="button" id="reset-button">Reset Level</button>
        </div>

        <div class="patient-body">
            <div class="compression-target"></div>
        </div>
    </div>

    <script src="game.js"></script>
</body>
</html>